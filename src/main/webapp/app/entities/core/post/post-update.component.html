<form [formGroup]="postEditFormGroup">
    <div class="row post-edit-view">
        <div class="sub-header">
            <div class="button-wrap">
                <button type="button" mat-button
                        (click)="previousState()">
                    <fa-icon [icon]="'ban'"></fa-icon>&nbsp;<span jhiTranslate="entity.action.cancel">Cancel</span>
                </button>
                <button mat-button type="button"
                        (click)="saveOrPublish('Draft')"
                        [disabled]="isSaving"
                        *ngIf="showSave">
                    <fa-icon [icon]="'save'"></fa-icon>&nbsp;<span
                    jhiTranslate="entity.action.savedraft">Save Draft</span>
                </button>
                <button type="button" mat-button
                        [disabled]="isSaving"
                        *ngIf="showPublish" (click)="saveOrPublish('Publish')">
                    <fa-icon [icon]="'save'"></fa-icon>&nbsp;<span
                    jhiTranslate="entity.action.publish">Publish</span>
                </button>
            </div>
        </div>
        <div class="editor-wrap">
            <div class="form-group">
                <mat-form-field class="example-full-width">
                    <input class="title-input"
                            matInput
                           formControlName="title"
                           placeholder="Title of the article">
                    <mat-error>
                        Title is <strong>required</strong>
                    </mat-error>
                </mat-form-field>

                <mat-form-field class="example-full-width margin-t-30">
                    <textarea matInput
                              formControlName="excerpt"
                              placeholder="Excerpt">
                    </textarea>
                </mat-form-field>

                <mat-form-field class="example-full-width margin-t-20">
                    <input matInput
                           formControlName="subTitle"
                           placeholder="Subtitle of the article">
                    <mat-error>
                        Sub Title is <strong>required</strong>
                    </mat-error>
                </mat-form-field>

                <div class="quill-editor-wrapper">
                    <jhi-quill-editor [original_content]="post.content"
                                      (updated_content)="updatePostContentFormData($event)">
                    </jhi-quill-editor>
                </div>

                <div class="example-full-width margin-t-30">
                    <button mat-raised-button type="button" color="primary"
                            replaceUrl="true"
                            [routerLink]="['/', { outlets: { popup: 'featured-media/upload'} }]"
                            [queryParams]="{ media_type: 'feature'}">Upload Featured media</button>
                    <button mat-raised-button type="button" color="primary"
                            (click)="deleteMediaForFeature()"> Delete featured media</button>
                    <img [src]='postEditFormGroup.value.featuredMedia' alt="" width="100" height="100">
                </div>

                <mat-form-field class="example-full-width">
                    <textarea matInput
                           formControlName="updates"
                           placeholder="Updates">
                    </textarea>
                    <mat-error>
                        Updates is <strong>required</strong>
                    </mat-error>
                </mat-form-field>




        </div>
        <div class="col-4 edit-view-right-pannel">
            <div class="form-group">
                <div class="form-group">
                    <mat-accordion>
                        <mat-expansion-panel (opened)="true">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    Tag
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <mat-form-field>
                                <input matInput
                                       [(ngModel)]="searchTagKeyword" [ngModelOptions]="{standalone: true}">
                            </mat-form-field>
                            <button mat-icon-button type="button" (click)="searchTagCurrentPage=0;searchTags()">
                                <mat-icon>search</mat-icon>
                            </button>
                            <button mat-icon-button type="button" (click)="getAllTags()">
                                <mat-icon>refresh</mat-icon>
                            </button>
                            <div>
                                <jhi-multiple-checkbox id="field_tag"
                                                       [option_list]="all_tag_options"
                                                       [selected_options]="selected_tag_options"
                                                       (updated_selection)="update_tag_selection($event)">
                                </jhi-multiple-checkbox>
                            </div>
                            <button type="button"
                                    mat-raised-button
                                    (click)="searchTagCurrentPage=searchTagCurrentPage-1;searchTags()"
                                    *ngIf="searchTagCurrentPage>0">
                                Previous
                            </button>
                            <button type="button"
                                    mat-raised-button
                                    (click)="searchTagCurrentPage=searchTagCurrentPage+1;searchTags()"
                                    *ngIf="searchTagTotalResult>((searchTagCurrentPage+1)*searchResultPerPage)">
                                Next
                            </button>
                        </mat-expansion-panel>
                    </mat-accordion>
                </div>
                <div class="form-group">
                    <mat-accordion>
                        <mat-expansion-panel>
                            <mat-expansion-panel-header>
                                <mat-panel-title jhiTranslate="gatewayApp.corePost.category">Category</mat-panel-title>
                            </mat-expansion-panel-header>
                            <mat-form-field>
                                <input matInput placeholder="Category" [(ngModel)]="searchCategoryKeyword"
                                       [ngModelOptions]="{standalone: true}">
                                <button mat-button *ngIf="searchCategoryKeyword" type="button"
                                        matSuffix mat-icon-button aria-label="Clear"
                                        (click)="searchCategoryKeyword='';getAllCategories()">
                                    <mat-icon>close</mat-icon>
                                </button>
                            </mat-form-field>
                            <button mat-button type="button" matSuffix mat-icon-button aria-label="Search"
                                    (click)="searchCategoryCurrentPage=0;searchCategories()">
                                <mat-icon>search</mat-icon>
                            </button>
                            <button mat-icon-button type="button" (click)="getAllCategories()">
                                <mat-icon>refresh</mat-icon>
                            </button>
                            <div>
                                <jhi-multiple-checkbox id="field_category"
                                                       [option_list]="all_category_options"
                                                       [selected_options]="selected_category_options"
                                                       (updated_selection)="update_category_selection($event)">
                                </jhi-multiple-checkbox>
                            </div>
                        </mat-expansion-panel>
                        <button type="button"
                                mat-raised-button
                                (click)="searchCategoryCurrentPage=searchCategoryCurrentPage-1;searchCategories()"
                                *ngIf="searchCategoryCurrentPage>0">
                            Previous
                        </button>
                        <button type="button"
                                matInput
                                (click)="searchCategoryCurrentPage=searchCategoryCurrentPage+1;searchCategories()"
                                *ngIf="searchCategoryTotalResult>((searchCategoryCurrentPage+1)*searchResultPerPage)">
                            Next
                        </button>
                    </mat-accordion>

                </div>
                <div class="form-group">
                    <mat-accordion>
                        <mat-expansion-panel>
                            <mat-expansion-panel-header>
                                <mat-pannel-title jhiTranslate="gatewayApp.corePost.degaUser">Author</mat-pannel-title>
                            </mat-expansion-panel-header>
                            <mat-form-field>
                                <input matInput
                                       [(ngModel)]="searchDegaUserKeyword" [ngModelOptions]="{standalone: true}">
                            </mat-form-field>
                            <button type="button" mat-icon-button (click)="searchDegaUserCurrentPage=0;searchDegaUsers()">
                                <mat-icon>search</mat-icon>
                            </button>
                            <button mat-icon-button type="button" (click)="getAllDegaUsers()">
                                <mat-icon>refresh</mat-icon>
                            </button>
                            <div>
                                <jhi-multiple-checkbox id="field_degaUser"
                                                       [option_list]="all_author_options"
                                                       [selected_options]="selected_author_options"
                                                       (updated_selection)="update_author_selection($event)">
                                </jhi-multiple-checkbox>
                            </div>
                            <button type="button"
                                    mat-raised-button
                                    (click)="searchDegaUserCurrentPage=searchDegaUserCurrentPage-1;searchDegaUsers()"
                                    *ngIf="searchDegaUserCurrentPage>0">
                                Previous
                            </button>
                            <button type="button"
                                    mat-raised-button
                                    (click)="searchDegaUserCurrentPage=searchDegaUserCurrentPage+1;searchDegaUsers()"
                                    *ngIf="searchDegaUserTotalResult>((searchDegaUserCurrentPage+1)*searchResultPerPage)">
                                Next
                            </button>
                        </mat-expansion-panel>
                    </mat-accordion>
                </div>
                <div class="example-full-width margin-t-20 row">
                    <div class="col-md-6">
                        <mat-checkbox formControlName="featured">
                            Featured
                        </mat-checkbox>
                    </div>
                    <div class="col-md-6">
                        <mat-checkbox formControlName="sticky">
                            Sticky
                        </mat-checkbox>
                    </div>
                </div>
                <mat-form-field>
                    <mat-select placeholder="Format" formControlName="formatId">
                        <mat-option [value]="formatOption.id"
                                    *ngFor="let formatOption of formats | orderBy:'name';">
                            {{formatOption.name}}
                        </mat-option>
                    </mat-select>

                </mat-form-field>
            </div>
        </div>
    </div>
</form>
